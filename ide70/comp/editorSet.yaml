---
body: |
  <div id="{{.sid}}" class="editorSet">
    <div id="{{.sid}}-trigger" class="hoverTrigger"></div>
    <div id="{{.sid}}-tabs" class="hide tabs">
      <div class="abs">
        {{range $path, $v := .editors}}
        <span class="titleSlot"{{eventHandlerWithKey $.This "onclick" "onclick_tab" $path}}>
        {{$path}}
        </span>
        {{if $.tabChild}}
        {{generateComp $.This $.tabChild ( htmlId $path ) $path}}
        {{end}}
        {{end}}
      </div>
    </div>
    <div id="{{.sid}}-edblk"class="editorSlot"></div>
  </div>
  <script>
    var editor = new EditorBlock(
        document.getElementById("{{.sid}}-edblk"),
        document.getElementById("{{.sid}}-trigger"),
        {{.sid}}
    );
  </script>
eventHandlers:
  onUnitCreate:
    action: |
        CompByCr("").CreateMapProp("editors");
  file_select:
    action: |
        CompByCr("").GetProp("editors")[Event().GetParam("path")] = true;
        CompByCr("").RefreshSubComp("-tabs");
        CompByCr("").SubCompFuncExecute("edblk","select", Event().GetParam("path"));
        common_log("---file-select");
  refresh_tabs:
    action: |
        CompByCr("").GetProp("editors")[Event().ValueStr] = true;
        CompByCr("").RefreshSubComp("-tabs");
        common_log("---refresh-tabs: " + Event().ValueStr);
  onclick_tab:
    action: |
        CompByCr("").RefreshSubComp("-tabs");
        CompByCr("").SubCompFuncExecute("edblk","select", Event().ValueStr);
injectRootComp:
  js:
    - name: ace.js
    - name: ext-language_tools.js
    - name: ext-searchbox.js
    - name: comp/editorblock.js
  css:
    - name: comp/editorSet.css
